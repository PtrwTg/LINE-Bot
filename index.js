const express = require('express');
const line = require('@line/bot-sdk');
require('dotenv').config();

const app = express();
const port = process.env.PORT || 3000;

const config = {
  channelAccessToken: process.env.CHANNEL_ACCESS_TOKEN,
  channelSecret: process.env.CHANNEL_SECRET,
};

const client = new line.Client(config);

app.post('/webhook', line.middleware(config), (req, res) => {
  Promise.all(req.body.events.map(handleEvent))
    .then((result) => res.json(result))
    .catch((err) => {
      console.error(err);
      res.status(500).end();
    });
});

function handleEvent(event) {
  if (event.type === 'message' && event.message.type === 'text') {
    const userMessage = event.message.text;

    if (userMessage === '‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß') {
      const profileFlexMessage = {
        type: 'flex',
        altText: '‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß',
        contents: {
          "type": "bubble",
          "hero": {
            "type": "image",
            "url": "https://i.postimg.cc/P57zN4N8/11.jpg",
            "size": "full",
            "aspectRatio": "8:10",
            "aspectMode": "cover"
          },
          "body": {
            "type": "box",
            "layout": "vertical",
            "contents": [{
              "type": "text",
              "text": "‡πÄ‡∏™‡∏∑‡∏≠",
              "weight": "bold",
              "size": "xl"
            }, {
              "type": "box",
              "layout": "vertical",
              "contents": [{
                "type": "text",
                "text": "‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏à‡∏ö‡πÉ‡∏´‡∏°‡πà",
                "size": "sm",
                "color": "#666666"
              }, {
                "type": "text",
                "text": "‡∏™‡∏≤‡∏Ç‡∏≤‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå",
                "size": "sm",
                "color": "#666666",
                "margin": "md"
              }, {
                "type": "box",
                "layout": "baseline",
                "contents": [{
                  "type": "text",
                  "text": "‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î:",
                  "size": "sm",
                  "color": "#666666",
                  "flex": 0
                }, {
                  "type": "text",
                  "text": " 29/09/2544",
                  "size": "sm",
                  "color": "#666666",
                  "flex": 0
                }],
                "margin": "md"
              }, {
                "type": "box",
                "layout": "baseline",
                "contents": [{
                  "type": "text",
                  "text": "‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà:",
                  "size": "sm",
                  "color": "#666666",
                  "flex": 0
                }, {
                  "type": "text",
                  "text": " ‡∏ö‡∏≤‡∏á‡∏Å‡∏≠‡∏Å‡∏ô‡πâ‡∏≠‡∏¢, ‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û",
                  "size": "sm",
                  "color": "#666666",
                  "flex": 0
                }],
                "margin": "md"
              }]
            }]
          }
        }
      };
      return client.replyMessage(event.replyToken, profileFlexMessage);
    } else if (userMessage === '‡∏ó‡∏±‡∏Å‡∏©‡∏∞') {
      const skillsFlexMessage = {
        type: 'flex',
        altText: '‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ',
        contents: {
          "type": "bubble",
          "body": {
            "type": "box",
            "layout": "vertical",
            "contents": [{
              "type": "text",
              "text": "‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ",
              "weight": "bold",
              "size": "xl"
            }, {
              "type": "separator",
              "margin": "lg"
            }, {
              "type": "box",
              "layout": "vertical",
              "margin": "lg",
              "spacing": "sm",
              "contents": [{
                "type": "text",
                "text": "‚≠ê ‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏î‡πâ‡∏≤‡∏ô‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏°‡∏¥‡πà‡∏á:",
                "weight": "bold",
                "size": "md",
                "margin": "md"
              }, {
                "type": "text",
                "text": " ¬†- JavaScript (Node.js)",
                "size": "sm",
                "color": "#666666"
              }, {
                "type": "text",
                "text": " ¬†- Python",
                "size": "sm",
                "color": "#666666"
              }, {
                "type": "text",
                "text": " ¬†- PHP (‡πÄ‡∏Ñ‡∏¢‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡πÄ‡∏Ñ‡∏¢‡πÉ‡∏ä‡πâ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á)",
                "size": "sm",
                "color": "#666666"
              }, {
                "type": "text",
                "text": " ¬†- SQL (MySQL, PostgreSQL)",
                "size": "sm",
                "color": "#666666"
              }, {
                "type": "text",
                "text": "‚≠ê ‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏î‡πâ‡∏≤‡∏ô Tools ‡πÅ‡∏•‡∏∞ Frameworks:",
                "weight": "bold",
                "size": "md",
                "margin": "md"
              }, {
                "type": "text",
                "text": " ¬†- LINE Messaging API",
                "size": "sm",
                "color": "#666666"
              }, {
                "type": "text",
                "text": " ¬†- LINE Official Account Manager",
                "size": "sm",
                "color": "#666666"
              }, {
                "type": "text",
                "text": " ¬†- Git/GitHub",
                "size": "sm",
                "color": "#666666"
              }, {
                "type": "text",
                "text": " ¬†- Express.js",
                "size": "sm",
                "color": "#666666"
              }]
            }]
          }
        }
      };
      return client.replyMessage(event.replyToken, skillsFlexMessage);
    } else if (userMessage === '‡∏ú‡∏•‡∏á‡∏≤‡∏ô') {
      const portfolioFlexMessage = {
        type: 'flex',
        altText: '‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏•‡∏á‡∏≤‡∏ô',
        contents: {
          "type": "carousel",
          "contents": [{
            "type": "bubble",
            "hero": {
              "type": "image",
              "url": "https://i.postimg.cc/zvmJgttW/Screenshot-2025-09-17-175022.png",
              "size": "full",
              "aspectRatio": "20:13",
              "aspectMode": "cover"
            },
            "body": {
              "type": "box",
              "layout": "vertical",
              "contents": [{
                "type": "text",
                "text": "Landingpage ‡∏£‡πâ‡∏≤‡∏ô‡∏ô‡∏ß‡∏î‡∏ó‡∏µ‡πà‡∏≠‡∏≠‡∏™‡πÄ‡∏ï‡∏£‡πÄ‡∏•‡∏µ‡∏¢",
                "weight": "bold",
                "size": "xl"
              }, {
                "type": "text",
                "text": "‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏´‡∏ô‡πâ‡∏≤‡∏ö‡πâ‡∏≤‡∏ô‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡πâ‡∏≤‡∏ô‡∏ô‡∏ß‡∏î‡∏ó‡∏µ‡πà‡∏≠‡∏≠‡∏™‡πÄ‡∏ï‡∏£‡πÄ‡∏•‡∏µ‡∏¢‡πÇ‡∏î‡∏¢‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö ‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô SEO ‡πÇ‡∏°‡πÄ‡∏°‡∏ô ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£ Deploy",
                "size": "sm",
                "color": "#666666",
                "margin": "md",
                "wrap": true
              }]
            },
            "footer": {
              "type": "box",
              "layout": "vertical",
              "spacing": "sm",
              "contents": [{
                "type": "button",
                "style": "link",
                "height": "sm",
                "action": {
                  "type": "uri",
                  "label": "‡∏î‡∏π‡∏ú‡∏•‡∏á‡∏≤‡∏ô",
                  "uri": "https://thainestmassage.com.au/"
                }
              }]
            }
          }, {
            "type": "bubble",
            "hero": {
              "type": "image",
              "url": "https://example.com/project2.jpg", // <--- ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç URL ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ
              "size": "full",
              "aspectRatio": "20:13",
              "aspectMode": "cover"
            },
            "body": {
              "type": "box",
              "layout": "vertical",
              "contents": [{
                "type": "text",
                "text": "‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏•‡∏á‡∏≤‡∏ô‡∏ä‡∏¥‡πâ‡∏ô‡∏ó‡∏µ‡πà 2",
                "weight": "bold",
                "size": "xl"
              }, {
                "type": "text",
                "text": "‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏™‡∏±‡πâ‡∏ô‡πÜ ‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏ú‡∏•‡∏á‡∏≤‡∏ô‡∏ô‡∏µ‡πâ",
                "size": "sm",
                "color": "#666666",
                "margin": "md",
                "wrap": true
              }]
            },
            "footer": {
              "type": "box",
              "layout": "vertical",
              "spacing": "sm",
              "contents": [{
                "type": "button",
                "style": "link",
                "height": "sm",
                "action": {
                  "type": "uri",
                  "label": "‡∏î‡∏π‡∏ú‡∏•‡∏á‡∏≤‡∏ô",
                  "uri": "https://example.com/project2" // <--- ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç URL ‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ
                }
              }]
            }
          }]
        }
      };
      return client.replyMessage(event.replyToken, portfolioFlexMessage);
    } else if (userMessage === '‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠') {
      const contactFlexMessage = {
        type: 'flex',
        altText: '‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠',
        contents: {
          "type": "bubble",
          "body": {
            "type": "box",
            "layout": "vertical",
            "contents": [{
              "type": "text",
              "text": "‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠",
              "weight": "bold",
              "size": "xl"
            }, {
              "type": "separator",
              "margin": "lg"
            }, {
              "type": "box",
              "layout": "vertical",
              "margin": "lg",
              "spacing": "sm",
              "contents": [{
                "type": "text",
                "text": "üìû ‡πÇ‡∏ó‡∏£: 083-815-2351",
                "size": "sm",
                "color": "#666666"
              }, {
                "type": "text",
                "text": "üìß Email: mawngai0001@gmail.com",
                "size": "sm",
                "color": "#666666"
              }, {
                "type": "text",
                "text": "üì± LINE ID: mawzaz0002",
                "size": "sm",
                "color": "#666666"
              }, {
                "type": "text",
                "text": "üíª GitHub: PtrwTg",
                "size": "sm",
                "color": "#666666"
              }]
            }]
          },
          "footer": {
            "type": "box",
            "layout": "vertical",
            "spacing": "sm",
            "contents": [{
              "type": "button",
              "style": "link",
              "height": "sm",
              "action": {
                "type": "uri",
                "label": "‡πÇ‡∏ó‡∏£",
                "uri": "tel:0838152351"
              }
            }, {
              "type": "button",
              "style": "link",
              "height": "sm",
              "action": {
                "type": "uri",
                "label": "‡πÅ‡∏ä‡∏ó LINE",
                "uri": "https://line.me/ti/p/~mawzaz0002"
              }
            }, {
              "type": "button",
              "style": "link",
              "height": "sm",
              "action": {
                "type": "uri",
                "label": "‡∏î‡∏π GitHub",
                "uri": "https://github.com/PtrwTg"
              }
            }]
          }
        }
      };
      return client.replyMessage(event.replyToken, contactFlexMessage);
    } else if (userMessage === '‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Å‡∏≤‡∏£') {
      const messages = [{
        type: 'image',
        originalContentUrl: 'https://i.postimg.cc/YSSc053J/1500.jpg',
        previewImageUrl: 'https://i.postimg.cc/YSSc053J/1500.jpg',
      }, {
        type: 'text',
        text: `**‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Å‡∏≤‡∏£‡∏á‡∏≤‡∏ô‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏¥‡∏ç‡∏ç‡∏≤**\n\n**‡∏ß‡∏±‡∏ô‡∏®‡∏∏‡∏Å‡∏£‡πå‡∏ó‡∏µ‡πà 3 ‡∏ï‡∏∏‡∏•‡∏≤‡∏Ñ‡∏° (‡∏ß‡∏±‡∏ô‡∏ã‡πâ‡∏≠‡∏°)**\n* 07:00 - 10:45 ‡∏ô. ‡∏ù‡∏∂‡∏Å‡∏ã‡πâ‡∏≠‡∏°‡∏¢‡πà‡∏≠‡∏¢\n* 11:30 - 13:30 ‡∏ô. ‡∏ù‡∏∂‡∏Å‡∏ã‡πâ‡∏≠‡∏°‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏¥‡∏ç‡∏ç‡∏≤‡∏ö‡∏±‡∏ï‡∏£‡∏ö‡∏ô‡πÄ‡∏ß‡∏ó‡∏µ\n* 14:00 - 20:00 ‡∏ô. ‡∏ù‡∏∂‡∏Å‡∏ã‡πâ‡∏≠‡∏°‡πÉ‡∏´‡∏ç‡πà\n\n**‡∏ß‡∏±‡∏ô‡∏≠‡∏±‡∏á‡∏Ñ‡∏≤‡∏£‡∏ó‡∏µ‡πà 7 ‡∏ï‡∏∏‡∏•‡∏≤‡∏Ñ‡∏° 2568 (‡∏ß‡∏±‡∏ô‡∏à‡∏£‡∏¥‡∏á)**\n* 08:00 - 11:00 ‡∏ô. ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô/‡∏ñ‡πà‡∏≤‡∏¢‡∏†‡∏≤‡∏û‡∏´‡∏°‡∏π‡πà/‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏ï‡∏±‡∏ß\n* 11:00 ‡∏ô. ‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏ô‡πÑ‡∏õ ‡∏û‡∏¥‡∏ò‡∏µ‡∏û‡∏£‡∏∞‡∏£‡∏≤‡∏ä‡∏ó‡∏≤‡∏ô‡∏õ‡∏£‡∏¥‡∏ç‡∏ç‡∏≤‡∏ö‡∏±‡∏ï‡∏£\n\n‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô‡∏Ñ‡∏£‡∏±‡∏ö`
      }];
      return client.replyMessage(event.replyToken, messages);
    } else if (userMessage === '‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô') {
      const liffUrl = 'https://liff.line.me/2008162847-jMMzgOn1';
      const registerMessage = {
        type: 'flex',
        altText: '‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡∏á‡∏≤‡∏ô‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏¥‡∏ç‡∏ç‡∏≤',
        contents: {
          "type": "bubble",
          "body": {
            "type": "box",
            "layout": "vertical",
            "contents": [{
              "type": "text",
              "text": "‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡∏á‡∏≤‡∏ô",
              "weight": "bold",
              "size": "xl",
              "wrap": true
            }, {
              "type": "text",
              "text": "‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡∏õ‡∏∏‡πà‡∏°‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏î‡∏ß‡∏Å‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏á‡∏≤‡∏ô",
              "size": "sm",
              "color": "#666666",
              "wrap": true,
              "margin": "md"
            }]
          },
          "footer": {
            "type": "box",
            "layout": "vertical",
            "contents": [{
              "type": "button",
              "style": "primary",
              "action": {
                "type": "uri",
                "label": "‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô",
                "uri": liffUrl
              }
            }]
          }
        }
      };
      return client.replyMessage(event.replyToken, registerMessage);
    } else if (userMessage === '‡πÅ‡∏à‡πâ‡∏á‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡∏°‡∏≤‡∏á‡∏≤‡∏ô‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏¥‡∏ç‡∏ç‡∏≤') {
      return client.replyMessage(event.replyToken, {
        type: 'text',
        text: '‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏´‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡πÉ‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏ô‡∏µ‡πâ‡∏Ñ‡∏£‡∏±‡∏ö ‡πÅ‡∏ï‡πà‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡πà‡∏á‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏°‡∏≤‡∏£‡πà‡∏ß‡∏°‡∏á‡∏≤‡∏ô‡∏°‡∏≤‡πÉ‡∏´‡πâ‡∏ú‡∏°‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö ‡πÅ‡∏•‡∏∞‡πÅ‡∏à‡πâ‡∏á‡∏î‡πâ‡∏ß‡∏¢‡∏ß‡πà‡∏≤‡∏à‡∏∞‡∏°‡∏≤‡∏ß‡∏±‡∏ô‡∏ã‡πâ‡∏≠‡∏°‡∏´‡∏£‡∏∑‡∏≠‡∏ß‡∏±‡∏ô‡∏à‡∏£‡∏¥‡∏á‡∏Ñ‡∏£‡∏±‡∏ö'
      });
    } else if (userMessage === '‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏≥‡∏≠‡∏ß‡∏¢‡∏û‡∏£‡πÉ‡∏´‡πâ‡∏ô‡∏¥‡∏™‡∏¥‡∏ï') {
      return client.replyMessage(event.replyToken, {
        type: 'text',
        text: '‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏≠‡∏ß‡∏¢‡∏û‡∏£‡∏°‡∏≤‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö ‡∏ú‡∏°‡∏à‡∏∞‡πÄ‡∏Å‡πá‡∏ö‡πÑ‡∏ß‡πâ‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏î‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö'
      });
    } else if (userMessage === '‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ô‡∏±‡∏ö‡∏õ‡∏£‡∏¥‡∏ç‡∏ç‡∏≤') {
      return client.replyMessage(event.replyToken, {
        type: 'text',
        text: '‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏°‡∏≤‡∏Å‡∏Ñ‡∏£‡∏±‡∏ö! ‡∏´‡∏≤‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏ú‡∏°‡πÑ‡∏î‡πâ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á‡πÄ‡∏•‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö'
      });
    } else if (userMessage === '‡∏Ç‡∏≠‡∏î‡∏π‡∏Ñ‡∏≥‡∏≠‡∏ß‡∏¢‡∏û‡∏£‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö') {
      return client.replyMessage(event.replyToken, {
        type: 'text',
        text: '‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏≥‡∏≠‡∏ß‡∏¢‡∏û‡∏£‡∏Ñ‡∏£‡∏±‡∏ö ‡πÅ‡∏ï‡πà‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏ú‡∏°‡∏à‡∏∞‡πÉ‡∏´‡πâ‡∏Ñ‡∏∏‡∏ì‡∏î‡∏π‡πÑ‡∏î‡πâ‡πÅ‡∏ô‡πà‡∏ô‡∏≠‡∏ô‡∏Ñ‡∏£‡∏±‡∏ö'
      });
    } else if (userMessage === '‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô') {
      return client.replyMessage(event.replyToken, {
        type: 'text',
        text: '‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Ñ‡∏£‡∏±‡∏ö ‡πÅ‡∏ï‡πà‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏ú‡∏°‡∏à‡∏∞‡πÉ‡∏´‡πâ‡∏Ñ‡∏∏‡∏ì‡∏î‡∏π‡πÑ‡∏î‡πâ‡πÅ‡∏ô‡πà‡∏ô‡∏≠‡∏ô‡∏Ñ‡∏£‡∏±‡∏ö'
      });
    }

    // --- ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤‡πÉ‡∏´‡∏°‡πà ---
    else if (userMessage === '‡∏ï‡∏±‡πã‡∏ß‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ö‡∏¥‡∏ô') {
      const ticketOptions = {
        type: 'text',
        text: '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß‡∏ö‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Ñ‡∏£‡∏±‡∏ö ‡πÅ‡∏•‡∏∞‡∏û‡∏¥‡∏°‡∏û‡πå "‡∏Ç‡∏≤‡πÑ‡∏õ" ‡∏´‡∏£‡∏∑‡∏≠ "‡∏Ç‡∏≤‡∏Å‡∏•‡∏±‡∏ö"',
        quickReply: {
          items: [{
            type: 'action',
            action: {
              type: 'message',
              label: '‚úàÔ∏è ‡∏ï‡∏±‡πã‡∏ß‡∏Ç‡∏≤‡πÑ‡∏õ',
              text: '‡∏Ç‡∏≤‡πÑ‡∏õ'
            }
          }, {
            type: 'action',
            action: {
              type: 'message',
              label: '‚úàÔ∏è ‡∏ï‡∏±‡πã‡∏ß‡∏Ç‡∏≤‡∏Å‡∏•‡∏±‡∏ö',
              text: '‡∏Ç‡∏≤‡∏Å‡∏•‡∏±‡∏ö'
            }
          }]
        }
      };
      return client.replyMessage(event.replyToken, ticketOptions);

    } else if (userMessage === '‡∏Ç‡∏≤‡πÑ‡∏õ') {
      // **‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç:** ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô URL ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô URL ‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡πã‡∏ß‡∏Ç‡∏≤‡πÑ‡∏õ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì
      const departureTicket = {
        type: 'image',
        originalContentUrl: 'https://i.postimg.cc/Dz1ryTvP/edit.jpg', // <--- ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç URL ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ
        previewImageUrl: 'https://i.postimg.cc/Dz1ryTvP/edit.jpg' // <--- ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç URL ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ
      };
      return client.replyMessage(event.replyToken, departureTicket);

    } else if (userMessage === '‡∏Ç‡∏≤‡∏Å‡∏•‡∏±‡∏ö') {
      // **‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç:** ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô URL ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô URL ‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡πã‡∏ß‡∏Ç‡∏≤‡∏Å‡∏•‡∏±‡∏ö‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì
      const returnTicket = {
        type: 'image',
        originalContentUrl: 'https://i.postimg.cc/kMYbC4Nd/edit.jpg', // <--- ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç URL ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ
        previewImageUrl: 'https://i.postimg.cc/kMYbC4Nd/edit.jpg' // <--- ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç URL ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ
      };
      return client.replyMessage(event.replyToken, returnTicket);
      
    } else if (userMessage === '‡∏Ç‡∏≠‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏ó‡∏µ‡πà‡∏û‡∏±‡∏Å') {
      const messages = [{
        type: 'text',
        text: '‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏ó‡∏µ‡πà‡∏û‡∏±‡∏Å‡∏Ñ‡∏£‡∏±‡∏ö üè®\n\nThe Quarter Ratchathewi by UHG\n‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Å‡∏î‡∏î‡∏π‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏≥‡∏ó‡∏≤‡∏á‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö'
      }, {
        type: 'location',
        title: 'The Quarter Ratchathewi by UHG',
        address: '128/8 Phetchaburi Rd, Thung Phaya Thai, Ratchathewi, Bangkok 10400',
        latitude: 13.754868,
        longitude: 100.531235
      }];
      return client.replyMessage(event.replyToken, messages);
    }
    // --- ‡∏à‡∏ö‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤‡πÉ‡∏´‡∏°‡πà ---
    
    else {
      return client.replyMessage(event.replyToken, {
        type: 'text',
        text: '‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö‡∏Ñ‡∏£‡∏±‡∏ö! ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡∏≥‡∏£‡∏ß‡∏à‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡∏≠‡∏á‡∏ú‡∏°‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å‡πÄ‡∏°‡∏ô‡∏π Rich Menu ‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á'
      });
    }
  } else if (event.type === 'follow') {
    const welcomeMessage = {
      type: 'flex',
      altText: '‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö',
      contents: {
        "type": "bubble",
        "body": {
          "type": "box",
          "layout": "vertical",
          "contents": [{
            "type": "text",
            "text": "‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö! ‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö‡∏™‡∏π‡πà LINE Bot ‡∏Ç‡∏≠‡∏á‡∏ú‡∏°",
            "weight": "bold",
            "size": "xl",
            "wrap": true
          }, {
            "type": "text",
            "text": "LINE ‡∏ô‡∏µ‡πâ‡∏°‡∏µ‡πÑ‡∏ß‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏à‡πâ‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏ú‡∏° ‡πÅ‡∏•‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏¥‡∏ç‡∏ç‡∏≤‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏°‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô‡πÉ‡∏ô‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 7 ‡∏ï‡∏∏‡∏•‡∏≤‡∏Ñ‡∏° ‡πÅ‡∏•‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ã‡πâ‡∏≠‡∏°‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏¥‡∏ç‡∏ç‡∏≤‡πÉ‡∏ô‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3 ‡∏ï‡∏∏‡∏•‡∏≤‡∏Ñ‡∏°‡∏Ñ‡∏£‡∏±‡∏ö",
            "size": "sm",
            "color": "#666666",
            "wrap": true,
            "margin": "md"
          }, {
            "type": "text",
            "text": "‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ‡πÄ‡∏°‡∏ô‡∏π‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡πà‡∏≤‡∏á‡πÜ ‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö!",
            "size": "sm",
            "color": "#666666",
            "margin": "md"
          }]
        }
      }
    };
    return client.replyMessage(event.replyToken, welcomeMessage);
  }
  return Promise.resolve(null);
}

app.listen(port, () => {
  console.log(`Server is running on port ${port}`);
});